# 2mqjs ‚Äî –ú–∏–∫—Ä–æ–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è Web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

<p align="center">
  <img src="https://raw.githubusercontent.com/poliklot/2mqjs/master/assets/logo.svg" alt="2mqjs logo" width="120"/>
</p>

<p align="center">
  <a href="https://www.npmjs.com/package/2mqjs"><img src="https://img.shields.io/npm/v/2mqjs.svg" alt="npm version"></a>
  <a href="https://bundlephobia.com/package/2mqjs"><img src="https://img.shields.io/bundlephobia/minzip/2mqjs.svg" alt="bundle size"></a>
  <img src="https://img.shields.io/badge/TypeScript-Strict-blue" alt="TypeScript">
  <img src="https://img.shields.io/badge/license-MIT-green.svg" alt="license">
  <img src="https://img.shields.io/github/actions/workflow/status/your-org/2mqjs/ci.yml?branch=main" alt="build status">
</p>

> **2mqjs** ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –º–∏–∫—Ä–æ–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –≤–µ–±‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –±–µ–∑ —Ç—è–∂—ë–ª—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤. –î–∞—ë—Ç —á—ë—Ç–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É: —Ä–∞–∑–¥–µ–ª—è–µ—Ç UI, –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫—É, –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –∏ –ø–æ—Ä—è–¥–æ–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏.

---

## üìö –ú–æ–¥—É–ª–∏

* [**Components**](./docs/COMPONENTS.md) ‚Äî –ª–µ–Ω–∏–≤—ã–µ UI‚Äë–º–æ–¥—É–ª–∏
* [**Ports**](./docs/PORTS.md) ‚Äî –µ–¥–∏–Ω–∞—è —Å–æ–±—ã—Ç–∏–π–Ω–∞—è —à–∏–Ω–∞
* [**Workers**](./docs/WORKERS.md) ‚Äî –±–∏–∑–Ω–µ—Å‚Äë–ª–æ–≥–∏–∫–∞ –≤–Ω–µ main thread
* [**Tasks**](./docs/TASKS.md) ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π –∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
* [**Store**](./docs/STORE.md) ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞

> ‚ö†Ô∏è –§–∞–π–ª—ã –º–æ–¥—É–ª–µ–π –ª–µ–∂–∞—Ç –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏–ª–∏ –≤ `docs/` ‚Äî –Ω–∞ –≤–∞—à–µ —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ. –≠—Ç–æ—Ç README ‚Äî –≤—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞.

---

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ª–æ–∏.
* –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UI –∏ —Ç—è–∂—ë–ª–æ–π –ª–æ–≥–∏–∫–∏.
* –ï–¥–∏–Ω–∞—è —Å–æ–±—ã—Ç–∏–π–Ω–∞—è —à–∏–Ω–∞ –¥–ª—è –≤—Å–µ—Ö —Å–ª–æ—ë–≤.
* –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–ø—É—Å–∫–∞ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–µ—Å, —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è.

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm i 2mqjs
# –∏–ª–∏
yarn add 2mqjs
# –∏–ª–∏
pnpm add 2mqjs
```

`package.json`:

```jsonc
{
  "type": "module"
}
```

---

## üß© –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1) Worker

```ts
import { registerWorker, emitPort } from '2mqjs/workers';

await registerWorker({
  name: 'productData',
  src: () => import('./workers/productData.worker?worker'),
});

emitPort('productData:init', initialState);
```

### 2) Component

```ts
import { registerComponent, runComponentLoader } from '2mqjs/components';

registerComponent({
  name: 'product-card',
  load: () => import('./components/product-card'),
  when: 'visible',
  hasDisplay: true,
});

runComponentLoader();
```

### 3) Tasks

```ts
import { registerTask, runTasks } from '2mqjs/tasks';

registerTask({
  id: 'bootstrap-product-data',
  stage: 'bootstrap',
  run: async () => {
    // ...
  },
});

await runTasks();
```

---

## üõ† –†–µ—Ü–µ–ø—Ç—ã

* **Store** ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –≤–æ—Ä–∫–µ—Ä–µ —Å persist ([docs](./STORE.md))
* **Tasks + Workers** ‚Äî –æ–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å–∫ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
* **Components + Ports** ‚Äî UI —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —Å–æ–±—ã—Ç–∏—è –±–µ–∑ –ø—Ä—è–º—ã—Ö —Å–≤—è–∑–µ–π

---

## üßæ –õ–∏—Ü–µ–Ω–∑–∏—è

[MIT](./LICENSE)

---

üìå –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚Äî –≤ –ø–∞–ø–∫–µ [`docs/`](./docs)
